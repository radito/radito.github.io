<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>🎉 Bolt BL-100 Sudah Didukung Official OpenWRT | Radito's Blog</title><meta name=keywords content><meta name=description content="Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.
Sekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya."><meta name=author content="Me"><link rel=canonical href=https://radito.github.io/posts/5d2d41e9-91ea-46af-8c4c-e711f836557c/><meta name=google-site-verification content="hIJuohE4d1PONV6JA6mcxg6VkWOuSYk0kAxTWXBy9bg"><script>window.addEventListener("load",function(){const e=document.createElement("script");e.type="text/javascript",e.src="https://www.googletagmanager.com/gtag/js?id=G-T5BM0HNNW0",e.onload=function(){window.dataLayer=window.dataLayer||[];function e(){dataLayer.push(arguments)}e("js",new Date),e("config","G-T5BM0HNNW0")},document.head.appendChild(e)})</script><link rel=preload href=https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v2.8.9/dist/cookieconsent.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@v2.8.9/dist/cookieconsent.css media=print onload='this.media="all"'><link crossorigin=anonymous href=/assets/css/stylesheet.ab1772dff0b40d52d92563b27000ca455842e91c0e47bddcdd8538d5b29a9bb7.css integrity="sha256-qxdy3/C0DVLZJWOycADKRVhC6RwOR73c3YU41bKam7c=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/favicon-32x32.png><link rel=apple-touch-icon href=https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/apple-touch-icon.png><link rel=mask-icon href=https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/apple-touch-icon.png><meta name=theme-color content=" #2e2e33"><meta name=msapplication-TileColor content=" #2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style></noscript><style>img[loading=lazy]{margin-left:auto;margin-right:auto}code{max-height:650px}code::-webkit-scrollbar{width:10px}img:hover{cursor:zoom-in}.viewer-close{background-color:transparent!important;border:0!important;box-shadow:none!important}</style><meta property="og:title" content="🎉 Bolt BL-100 Sudah Didukung Official OpenWRT"><meta property="og:description" content="Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.
Sekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya."><meta property="og:type" content="article"><meta property="og:url" content="https://radito.github.io/posts/5d2d41e9-91ea-46af-8c4c-e711f836557c/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-03-31T07:48:00+00:00"><meta property="article:modified_time" content="2024-03-31T07:48:00+00:00"><meta property="og:site_name" content="Radito's Blog"><meta name=twitter:card content="summary"><meta name=twitter:title content="🎉 Bolt BL-100 Sudah Didukung Official OpenWRT"><meta name=twitter:description content="Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.
Sekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://radito.github.io/posts/"},{"@type":"ListItem","position":2,"name":"🎉 Bolt BL-100 Sudah Didukung Official OpenWRT","item":"https://radito.github.io/posts/5d2d41e9-91ea-46af-8c4c-e711f836557c/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"🎉 Bolt BL-100 Sudah Didukung Official OpenWRT","name":"🎉 Bolt BL-100 Sudah Didukung Official OpenWRT","description":"Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.\nSekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya.","keywords":[],"articleBody":"Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.\nSekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya.\nLalu firmware openwrt bl100 akan masuk release cycle build openwrt, dimana setiap versi merupakan versi yang stable yang sudah dikeluarkan, saya kurang paham sih berapa lama release cycle dari openwrt kita tunggu saja rilis kedepan.\nBerikut ini adalah timeline pengerjaan yang sudah di merge ke official openwrt, saya akan coba deskripsikan hehe.\n#1 Initial Pull Request Initial pull request dimulai dengan deskripsi commit sesuai standar openwrt ramips: add support for BOLT BL100, ramips artinya arsitektur CPU yang digunakan oleh router yaitu Ralink MIPS, dan deskripsi commit nya adalah menambahkan support untuk router bolt bl100.\nKemudian untuk pesan commit dibawahnya adalah deskripsi router yang akan disupport secara singkat, dilengkapi dengan spesifikasi routernya. Contoh CPU, Memory,ROM, Hardware peripherals yang didukung.\nPada baris terakhir dilengkapi cara melakukan instalasi secara singkat juga. Instalasi dilakukan dengan menggunakan akses root router dan melakukan mtd_write langsung ke partisi Kernel.\n#2 Issue Pertama (Bootloader) Issue pertama dimulai dari feedback dari komunitas openwrt yang mengatakan bahwa tutorial instalasi menggunakan breed bootloader tidak diperbolehkan, dan firmware openwrt harus bisa booting menggunakan bootloader bawaan routernya. Karena sebelumnya memang instalasi dan tutorial yang ada di blog ini menggnakan bootloader breed karena beberapa kelebihan dan sebagai failsave ketika terjadi firmware corrupt dapat dilakukan flash dengan mudah, tapi okelah saya coba gali lebih dalam.\nKondisi sebelumnya jika mencoba booting menggunakan image openwrt yang sudah di build terdapat error Bad magic number dari pesan bootloader uBoot, hal ini terjadi karena bootloader uboot sudah di modifikasi source codenya dari pabrikan untuk menghindari modifikasi firmware oleh pihak luar. Sehingga diberikan checksum untuk mengecek magic number yang sesuai dengan firmware originalnya.\nGambar diatas adalah boot log yang diambil dengan menggunakan port serial dari Bolt BL100, terdapat error Bad Magic Number,27051956 setelah itu router stuck di pesan terakhir dan tidak bisa booting ke next step yaitu decompressing kernel. Lalu saya coba gali lebih dalam kenapa hal itu terjadi.\nLalu okelah, kalau ngga mau boot dalam posisi firmware yang sudah ada di dalam ROM / flash di uBoot terdapat opsi untuk meload firmware ke memory langsung, jadi kita bisa booting dan jump ke memory address tersebut tanpa harus write firmware ke flash memory. Saya coba cek.\nUntuk menghentikan proses booting uBoot dan masuk ke menu boot dapat dilakukan dengan menahan tombol WPS sambil menghidupkan routernya, jika sukses maka proses booting akan terinterupsi. Disini terdapat opsi load system code to memory via TFTP, lalu selanjutnya saya coba setup TFTP server di komputer yang terhubung dan satu jaringan dengan router tersebut, dan saya coba namai filenya dengan nama openwrt.bin.\nSetelah terbaca oleh TFTP server serta mendapatkan request ARP yang artinya router teserbut sukses menghubungi pc saya, Tetapi hasilnya sama juga ada validasi magic number juga pada saat booting via memory. Kesimpulannya yaitu bootloader ini sudah dimodifikasi oleh pabrik.\n#3 Mencoba Reversing Firmware Karena terdapat error magic number, saya coba cari apa itu magic number dan efek yang ditimbulkan ke bootloader.\nhttps://en.wikipedia.org/wiki/Magic_number_(programming)\nMagic numbers are common in programs across many operating systems. Magic numbers implement strongly typed data and are a form of in-band signaling to the controlling program that reads the data type(s) at program run-time. Many files have such constants that identify the contained data. Detecting such constants in files is a simple and effective way of distinguishing between many file formats and can yield further run-time information.\nOhh gitu, setelah browsing beberapa kali di referensi embedded firmware linux dan dari referensi wikipedia ternyata magic number adalah konstanta yang biasanya dimasukkan pada awalan file untuk mengidentifikasi jenis file itu, Jadi dalam konteks firmware ini bisa dibilang magic number adalah kostanta yang mengidentifikasi bahwa file ini adalah file firmware untuk router yang diawali dengan konstanta tertentu, jadi contoh dengan 0x27051956 ini merupakan magic number dari firmware openwrt yang saya pakai dan berbeda dengan yang di expect oleh bootloader uBoot dari pabrikan.\nKalau dipikir2 memang benar juga karena komputer hanya membaca bit dan biasanya dibaca menjadi stream atau buffer, dengan membuat magic number menjadi fixed size contoh 0x27051956 meriupakan bilangan hexadecimal. Maka sebagai programmer kita bisa dengan mudah mengidentifikasi suatu file dengan membaca 4 byte awal sebuah file, contoh peseudocode read(*file, 4) untuk mengetahui apakah file itu valid dengan konstanta yang kita definisikan.\nLanjut kita coba reversing dari dump.bin yang merupakan original firmware dari bolt bl100. Saya coba extract filenya menggunakan binwalk dan ketemu banyak binary dan shell script di dalam partisi linuxnya. Saya coba search apakah ada yang mengandung magic number. Dan ternyata ketemu salah satu file firmware upgrade seperti ini.\nNah akhirnya ketemu, disini ada variable dari bash script yang mendefinisikan magic number, Ada dua tipe yang satu MTK dan yang satu custom. Karena yang MTK magic number dikomen jadi kita bisa abaikan saya. Coba fokus ke magic number bawahnya yaitu 26 11 20 15 jadi hexadecimalnya 0x26112015 dan kebetulan dibawahnya ada komentar check by uBoot hehe.\nSetelah diketahui nilai kernel magic numbernya, coba saya cari pada firmware dump original dari boltnya dan hasilnya ternyata.\nNah ternyata ketemu nilainya di baris 04ffd4 setelah ditelusuri ternyata magic number ini berada setelah section kosong yang dimulai dari blok ffffffff pada keterangan ascii pada bagian kanan terdapat text Linux Kernel Image yang menandakan bahwa blok tersebut adalah blok linux kernel.\n#4 Mengubah Header uBoot Setelah berhasil melakukan kompilasi firmware openwrt, hasilnya adalah file binary firmware sesuai dengan tipe router yang dipilih saat konfigurasi awal.\nContoh file binary hasil kompilasi:\nopenwrt-23.05.2-ramips-mt7620-bolt_bl100-201-squashfs-sysupgrade.bin\nFile firmware diatas memiliki header data 64 byte awal\n27051956 27D8A9DB 65537843 00563E27 80000000 80000000 013F7B9D 05050203 4D495053 204F7065 6E577274 204C696E 75782D35 2E31352E 31333700 00000000 ^^^^^^^^ ^^^^^^^^ Magic | CRC32 | Rest of headers data Number | | --------|--------| 4 byte | 4 byte | 56 byte Magic Number = 0x27051956\nChecksum CRC32 = 0x27D8A9DB\nMagic number yang ada tidak match dengan nilai yang di expect oleh uboot sehingga router tidak bisa booting. Untuk melakukan patching magic number dilakukan dengan mengubah magic numbernya, lalu menghitung checksum crc32 pada byte 4-7.\nModifikasi Header Dengan Magic Number 0x26112015\n26112015 00000000 65537843 00563E27 80000000 80000000 013F7B9D 05050203 4D495053 204F7065 6E577274 204C696E 75782D35 2E31352E 31333700 00000000 ^^^^^^^^ ^^^^^^^^ New | Nulled | Rest of headers data Magic | CRC32 | Number | | --------|--------| 4 byte | 4 byte | 56 byte Karena checksum CRC32 harus dihitung ulang maka pada byte 4-7 harus dinullkan terlebih dahulu. Setelah itu dapat dihitung checksum crc32 menggunakan crc32 calculator (https://danielwiese.com/crc-calculator/)\nChecksum = CRC32 (26112015 00000000 65537843 00563E27 80000000 80000000 013F7B9D 05050203 4D495053 204F7065 6E577274 204C696E 75782D35 2E31352E 31333700 00000000) Hasil Perhitungan CRC32\nKarena arsitektur MIPS adalah big endian, maka didapatkan nilai CRC32 dengan nilai 0x06F6FC0D\nHasil akhirnya maka seperti ini\n26112015 06F6FC0D 65537843 00563E27 80000000 80000000 013F7B9D 05050203 4D495053 204F7065 6E577274 204C696E 75782D35 2E31352E 31333700 00000000 ^^^^^^^^ ^^^^^^^^ New | New | Rest of headers data Magic | CRC32 | Number | | --------|--------| 4 byte | 4 byte | 56 byte Untuk mengubah file binary secara langsung dapat menggunakan hexeditor untuk windows, atau melalui terminal jika menggunakan linux. Disini saya menggunakan aplikasi HexFiend.\nSaatnya dicoba untuk firmware barunya, saya coba metode booting menggunakan TFTPd pada uBoot dan hasilnya seperti berikut.\nYess, Akhirnya 😁 Firmware openwrt berhasil booting menggunakan bootloader bawaan router (uBoot). Hasilnya ditandai dengan kernel yang berhasil di decompress oleh bootloader dan berhasil menampilkan versi kernelnya.\nSetelah saya post komentar tersebut, ternyata ada kontributor dari openwrt yang menginformasikan bahwa ada fungsi yang dapat digunakan untuk melakukan set magic code secara otomatis, yang sebelumnya saya tidak ketahui hehe. Sehingga tidak perlu ubah manual lagi dan prosesnya akan diotomatisasi pada saat proses kompilasi.\nLangsung saja cuss, saya implementasikan di Pull Requestnya untuk direview maintainer kedepannya.\n#5 Wrapping Up Setelah beberapa kali perbaikan dan penambahan request dari maintainer repository openwrt diantaranya adalah perbaikan commit message, penambahan fungsi led untuk patch openwrt terbaru, akhirnya pada tanggal 1 April pull request sudah dilakukan merge ke branch main openwrt.\nSetelah dilakukan merge maka otomatis build firmware Bolt BL100 sudah masuk ke release snapshot openwrt, untuk linknya bisa dicek disini.\nVersi Sysupgrade (bolt_bl100-squashfs-sysupgrade.bin)\nhttps://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin\nVersi Initramfs (bolt_bl100-initramfs-kernel.bin)\nhttps://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin\nOh iya, untuk versi snapshot belum include web interfacenya (luci) dan loginnya masih melalui ssh atau port serialnya. Jadi setelah install dapat dilakukan instalasi luci terlebih dahulu. Untuk saat ini firmware bl100 belum masuk release cycle terbaru, untuk tepatnya belum tau tetapi untuk kedepan jika ada release versi terbaru openwrt maka akan otomatis include di dalamnya.\nDengan firmware ini, maka tidak usah melakukan instalasi breed bootloader, bisa menggunakan bootloader bawaannya (uboot). Untuk tutorial instalasinya sama seperti di artikel sebelumnya (Install OpenWRT Bolt BL-100/BL-201 Tanpa Alat Tambahan) jika anda mau coba instalasi sendiri. Kalau sebelumnya sudah melakukan install openwrt juga bisa melakukan upgrade versi openwrt melalui halaman upgrade firmware openwrt.\nSekian artikel kali ini, sebenarnya hanya ingin mendeskripsikan proses penambahan device ke support openwrt dan untuk case bolt bl100 ini terdapat beberapa kendala dan case yang unik yang dapat dieksplor lebih lanjut kedepannya hehe.\nReferensi https://github.com/openwrt/openwrt/pull/14836\nhttps://forum.openwrt.org/t/how-do-i-calculate-the-crc32-of-u-boot-header/76611\n","wordCount":"1568","inLanguage":"en","datePublished":"2024-03-31T07:48:00Z","dateModified":"2024-03-31T07:48:00Z","author":{"@type":"Person","name":"Me"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://radito.github.io/posts/5d2d41e9-91ea-46af-8c4c-e711f836557c/"},"publisher":{"@type":"Organization","name":"Radito's Blog","logo":{"@type":"ImageObject","url":"https://raw.githubusercontent.com/radito/radito.github.io/main/assets/img/favicon.ico"}}}</script><script defer src=https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@latest/dist/cookieconsent.js></script>
<script>window.addEventListener("load",async function(){await new Promise(e=>setTimeout(e,3e3));var e=initCookieConsent();e.run({current_lang:"en",autoclear_cookies:!0,page_scripts:!0,onFirstAction:function(){},onAccept:function(){},onChange:function(){},languages:{en:{consent_modal:{title:"🍪 We use cookies!",description:'Hi, this website uses essential cookies to ensure its proper operation and tracking cookies to understand how you interact with it. The latter will be set only after consent. <button type="button" data-cc="c-settings" class="cc-link">Let me choose</button>',primary_btn:{text:"✅ Accept all",role:"accept_all"},secondary_btn:{text:"❌ Reject all",role:"accept_necessary"}},settings_modal:{title:"Cookie preferences",save_settings_btn:"Save settings",accept_all_btn:"Accept all",reject_all_btn:"Reject all",close_btn_label:"Close",cookie_table_headers:[{col1:"Name"},{col2:"Domain"},{col3:"Expiration"},{col4:"Description"}],blocks:[{title:"Cookie usage 📢",description:"I use cookies to ensure the basic functionalities of the website and to enhance your online experience. You can choose for each category to opt-in/out whenever you want."},{title:"Strictly necessary cookies",description:"These cookies are essential for the proper functioning of my website. Without these cookies, the website would not work properly",toggle:{value:"necessary",enabled:!0,readonly:!0}},{title:"Performance and Analytics cookies",description:"These cookies allow the website to remember the choices you have made in the past",toggle:{value:"analytics",enabled:!0,readonly:!1},cookie_table:[{col1:"^_ga",col2:"google.com",col3:"2 years",col4:"Google Analytics Cookie",is_regex:!0}]}]}}}})})</script><script>function setSyntaxMode(e){const t=document.querySelectorAll("pre.chroma");e=="dark"&&t.forEach((e)=>{e.classList.remove("theme-github-min"),e.classList.add("theme-github-dark-dimmed-min")}),e=="light"&&t.forEach((e)=>{e.classList.add("theme-github-min"),e.classList.remove("theme-github-dark-dimmed-min")})}</script><script>const currentLocal=localStorage.getItem("pref-theme");!currentLocal&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches&&(localStorage.setItem("pref-theme","dark"),document.documentElement.classList.add("c_darkmode")),currentLocal=="dark"&&document.documentElement.classList.add("c_darkmode"),window.addEventListener("load",function(){document.getElementById("theme-toggle").addEventListener("click",async()=>{const e=localStorage.getItem("pref-theme");setSyntaxMode(e),e=="dark"?document.documentElement.classList.add("c_darkmode"):document.documentElement.classList.remove("c_darkmode")})})</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://radito.github.io/ accesskey=h title="Radito's Blog (Alt + H)">Radito's Blog</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://radito.github.io/ title=Home><span>Home</span></a></li><li><a href=https://radito.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://radito.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li></ul></nav></header><main class=main><link rel=preload href=https://cdn.jsdelivr.net/npm/viewerjs@latest/dist/viewer.min.css as=style><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/viewerjs@latest/dist/viewer.min.css><link href=https://cdn.jsdelivr.net/npm/viewerjs@latest/dist/viewer.min.js rel=preload as=script><script defer src=https://cdn.jsdelivr.net/npm/viewerjs@latest/dist/viewer.min.js></script>
<script type=application/ld+json class=reviews-schema data-ref=922b1885964f0939cde3843e0a7fdf2a>{"@context":"http://schema.org","@type":"Product","name":"Embed Social","aggregateRating":{"@type":"AggregateRating","ratingValue":"5","reviewCount":"100"}}</script><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://radito.github.io/>Home</a>&nbsp;»&nbsp;<a href=https://radito.github.io/posts/>Posts</a></div><h1 class=post-title>🎉 Bolt BL-100 Sudah Didukung Official OpenWRT</h1><div class=post-meta><span title='2024-03-31 07:48:00 +0000 UTC'>March 31, 2024</span>&nbsp;·&nbsp;8 min&nbsp;·&nbsp;1568 words&nbsp;·&nbsp;Me&nbsp;|&nbsp;<a href=https://github.com/radito/radito.github.io/blob/main/content/posts/5d2d41e9-91ea-46af-8c4c-e711f836557c.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Diawali dari percobaan mengoprek router Bolt BL100 dengan tujuan untuk mengetahui isi dari router tersebut karena belum banyak post terkait pcb dan module yang ada di dalam router di internet, setelah itu dimulailah journey reverse engineering router bolt bl100, mulai dari mengakses port serial, rooting firmware, install openwrt, hingga aktivasi modem ltenya.</p><p>Sekarang firmware openwrt bolt bl100 sudah didukung official di repository openwrt dan telah masuk ke official download nya. Karena telah masuk ke repo official maka kedepannya firmware akan mendapatkan update kernel yang terus berlanjut serta akan banyak bugfix dan security fix yang dilakukan oleh komunitas open source OpenWRT nantinya.</p><p>Lalu firmware openwrt bl100 akan masuk release cycle build openwrt, dimana setiap versi merupakan versi yang stable yang sudah dikeluarkan, saya kurang paham sih berapa lama release cycle dari openwrt kita tunggu saja rilis kedepan.</p><p>Berikut ini adalah timeline pengerjaan yang sudah di merge ke official openwrt, saya akan coba deskripsikan hehe.</p><h1 id=1-initial-pull-request>#1 Initial Pull Request<a hidden class=anchor aria-hidden=true href=#1-initial-pull-request>#</a></h1><p><img loading=lazy src=https://radito.vercel.app/d09ed6a9e5b4d826cf95b023220a00d50f4e604daeaca0febb766a1211fc362c/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f706f7668647a61676f786963797573706c67756e742f613539623366386665353432356263373237386438623730393630653737316565336631636533313139393064656438353263633765336663313130353336632e706e673f726c6b65793d6136366b6a326b70326d386b7078383475396233317a656d3126646c3d30267261773d31 alt></p><p>Initial pull request dimulai dengan deskripsi commit sesuai standar openwrt <strong><code>ramips: add support for BOLT BL100</code></strong>, ramips artinya arsitektur CPU yang digunakan oleh router yaitu Ralink MIPS, dan deskripsi commit nya adalah menambahkan support untuk router bolt bl100.</p><p>Kemudian untuk pesan commit dibawahnya adalah deskripsi router yang akan disupport secara singkat, dilengkapi dengan spesifikasi routernya. Contoh CPU, Memory,ROM, Hardware peripherals yang didukung.</p><p>Pada baris terakhir dilengkapi cara melakukan instalasi secara singkat juga. Instalasi dilakukan dengan menggunakan akses root router dan melakukan mtd_write langsung ke partisi Kernel.</p><h1 id=2-issue-pertama-bootloader>#2 Issue Pertama (Bootloader)<a hidden class=anchor aria-hidden=true href=#2-issue-pertama-bootloader>#</a></h1><p><img loading=lazy src=https://radito.vercel.app/c0aeb6b820bcc6d0953e2fb564aef77d261ed4cec2e15ccd3602471c6815316b/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f7335727365777473796e7172793762723564726d352f373133643837646662633164666165396632333466386138636634393062316465313239333830366365663836343438393037356432656435636362303235342e706e673f726c6b65793d766979316e6972656b326c7a746f33773363756c673577696d26646c3d30267261773d31 alt></p><p>Issue pertama dimulai dari feedback dari komunitas openwrt yang mengatakan bahwa tutorial instalasi menggunakan breed bootloader tidak diperbolehkan, dan firmware openwrt harus bisa booting menggunakan bootloader bawaan routernya. Karena sebelumnya memang instalasi dan tutorial yang ada di blog ini menggnakan bootloader breed karena beberapa kelebihan dan sebagai failsave ketika terjadi firmware corrupt dapat dilakukan flash dengan mudah, tapi okelah saya coba gali lebih dalam.</p><p>Kondisi sebelumnya jika mencoba booting menggunakan image openwrt yang sudah di build terdapat error <code>Bad magic number</code> dari pesan bootloader uBoot, hal ini terjadi karena bootloader uboot sudah di modifikasi source codenya dari pabrikan untuk menghindari modifikasi firmware oleh pihak luar. Sehingga diberikan checksum untuk mengecek magic number yang sesuai dengan firmware originalnya.</p><p><img loading=lazy src=https://radito.vercel.app/22e9aa88a0dd99eb6ba642d87fbf5698e50ba3f42e37680e3cb911f290109db9/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f37647369386768736f7777386b65746e76616168742f353536326137343131636239636466643336396336326632306365313433313932373937613334326266653331656166316165376363333534356338363338322e706e673f726c6b65793d34723764396c7070636f36646363386e676b376267646a316c26646c3d30267261773d31 alt></p><p>Gambar diatas adalah boot log yang diambil dengan menggunakan port serial dari Bolt BL100, terdapat error <code>Bad Magic Number,27051956</code> setelah itu router stuck di pesan terakhir dan tidak bisa booting ke next step yaitu decompressing kernel. Lalu saya coba gali lebih dalam kenapa hal itu terjadi.</p><p>Lalu okelah, kalau ngga mau boot dalam posisi firmware yang sudah ada di dalam ROM / flash di uBoot terdapat opsi untuk meload firmware ke memory langsung, jadi kita bisa booting dan jump ke memory address tersebut tanpa harus write firmware ke flash memory. Saya coba cek.</p><p><img loading=lazy src=https://radito.vercel.app/c091b4b5bf144017bc625ed48261d835c98fe327f97a9d4f77fdf40154f0c4d2/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f6864313637796e65686a6572766c343769666f776f2f613661623562666439303533663538383130663865666230616431313336393030373137633234336233386139666330376633366139316436353665373864632e706e673f726c6b65793d34306f31707a6a757561336278737a72736c6a6c316c68773726646c3d30267261773d31 alt></p><p><img loading=lazy src=https://radito.vercel.app/5d691b44b44179d56cea0501e14e76944fe6b99cde429bdee0db2e6ddcf6b2ae/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f746661396f347236776d316f776d753076383876792f653439636232333531333664613432353234333234616264343166336438343531626136346165333532313730323134383333393763653635306564663933312e706e673f726c6b65793d6665756139696c72656c7431766d3833356c346a7936616a6726646c3d30267261773d31 alt></p><p>Untuk menghentikan proses booting uBoot dan masuk ke menu boot dapat dilakukan dengan menahan tombol <code>WPS</code> sambil menghidupkan routernya, jika sukses maka proses booting akan terinterupsi. Disini terdapat opsi load system code to memory via TFTP, lalu selanjutnya saya coba setup TFTP server di komputer yang terhubung dan satu jaringan dengan router tersebut, dan saya coba namai filenya dengan nama openwrt.bin.</p><p>Setelah terbaca oleh TFTP server serta mendapatkan request ARP yang artinya router teserbut sukses menghubungi pc saya, Tetapi hasilnya sama juga ada validasi magic number juga pada saat booting via memory. Kesimpulannya yaitu bootloader ini sudah dimodifikasi oleh pabrik.</p><h1 id=3-mencoba-reversing-firmware>#3 Mencoba Reversing Firmware<a hidden class=anchor aria-hidden=true href=#3-mencoba-reversing-firmware>#</a></h1><p>Karena terdapat error magic number, saya coba cari apa itu magic number dan efek yang ditimbulkan ke bootloader.</p><p><a href=https://en.wikipedia.org/wiki/Magic_number_(programming)>https://en.wikipedia.org/wiki/Magic_number_(programming)</a></p><p><code>Magic numbers are common in programs across many operating systems. Magic numbers implement strongly typed data and are a form of in-band signaling to the controlling program that reads the data type(s) at program run-time. Many files have such constants that identify the contained data. Detecting such constants in files is a simple and effective way of distinguishing between many file formats and can yield further run-time information.</code></p><p>Ohh gitu, setelah browsing beberapa kali di referensi embedded firmware linux dan dari referensi wikipedia ternyata magic number adalah konstanta yang biasanya dimasukkan pada awalan file untuk mengidentifikasi jenis file itu, Jadi dalam konteks firmware ini bisa dibilang magic number adalah kostanta yang mengidentifikasi bahwa file ini adalah file firmware untuk router yang diawali dengan konstanta tertentu, jadi contoh dengan <code>0x27051956</code> ini merupakan magic number dari firmware openwrt yang saya pakai dan berbeda dengan yang di expect oleh bootloader uBoot dari pabrikan.</p><p>Kalau dipikir2 memang benar juga karena komputer hanya membaca bit dan biasanya dibaca menjadi stream atau buffer, dengan membuat magic number menjadi fixed size contoh <code>0x27051956</code> meriupakan bilangan hexadecimal. Maka sebagai programmer kita bisa dengan mudah mengidentifikasi suatu file dengan membaca <code>4 byte</code> awal sebuah file, contoh peseudocode <code>read(*file, 4)</code> untuk mengetahui apakah file itu valid dengan konstanta yang kita definisikan.</p><p>Lanjut kita coba reversing dari <code>dump.bin</code> yang merupakan original firmware dari bolt bl100. Saya coba extract filenya menggunakan binwalk dan ketemu banyak binary dan shell script di dalam partisi linuxnya. Saya coba search apakah ada yang mengandung magic number. Dan ternyata ketemu salah satu file firmware upgrade seperti ini.</p><p><img loading=lazy src=https://radito.vercel.app/2797e043875e5768d84285baf1148779d16c1f895616f515b76922f0c91351b9/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f726564323934383869367267727972736e756637772f656262386430343835376131623938653338633436646131383065343361396132373862353134336530613138313264356463626366356134373662303238342e706e673f726c6b65793d61636c31337539376e6a776371706b6a30306d71686676766e26646c3d30267261773d31 alt></p><p><img loading=lazy src=https://radito.vercel.app/8273a06e9ac22306243d4c98eeaa74e8bf6948a0fd0f88185a769ccafc5e5f59/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f6b71626b616e386b386b3669716a3430676431656f2f616330306131303331356664306331326165653537623937383430313436653338396631363630643062393862386637613437356535336530386235323731662e706e673f726c6b65793d6d7768673974613671636562706e74773967636b3465636c3626646c3d30267261773d31 alt></p><p>Nah akhirnya ketemu, disini ada variable dari bash script yang mendefinisikan magic number, Ada dua tipe yang satu MTK dan yang satu custom. Karena yang MTK magic number dikomen jadi kita bisa abaikan saya. Coba fokus ke magic number bawahnya yaitu <code>26 11 20 15</code> jadi hexadecimalnya <code>0x26112015</code> dan kebetulan dibawahnya ada komentar check by uBoot hehe.</p><p>Setelah diketahui nilai kernel magic numbernya, coba saya cari pada firmware dump original dari boltnya dan hasilnya ternyata.</p><p><img loading=lazy src=https://radito.vercel.app/ea5baaefeb53d451b17c7a27b751dd279e882070d3e9eef747c7a79d09675d5d/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f6c626e72316d6f7376686a71777578326b6c3664622f316430376538303938303037353465303937376266313733656630363432386231633861666264653237663362366166353938306538313635333863366463652e706e673f726c6b65793d3830343634687a69366a31783530646664776c35333671613226646c3d30267261773d31 alt></p><p>Nah ternyata ketemu nilainya di baris <code>04ffd4</code> setelah ditelusuri ternyata magic number ini berada setelah section kosong yang dimulai dari blok <code>ffffffff</code> pada keterangan ascii pada bagian kanan terdapat text Linux Kernel Image yang menandakan bahwa blok tersebut adalah blok linux kernel.</p><h1 id=4-mengubah-header-uboot>#4 Mengubah Header uBoot<a hidden class=anchor aria-hidden=true href=#4-mengubah-header-uboot>#</a></h1><p>Setelah berhasil melakukan kompilasi firmware openwrt, hasilnya adalah file binary firmware sesuai dengan tipe router yang dipilih saat konfigurasi awal.</p><p>Contoh file binary hasil kompilasi:</p><p><code>openwrt-23.05.2-ramips-mt7620-bolt_bl100-201-squashfs-sysupgrade.bin</code></p><p>File firmware diatas memiliki header data 64 byte awal</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=mi>27051956</span> <span class=mi>27</span><span class=nx>D8A9DB</span> <span class=mi>65537843</span> <span class=mf>00563E27</span> <span class=mi>80000000</span> <span class=mi>80000000</span> <span class=mi>013</span><span class=nx>F7B9D</span> <span class=mi>05050203</span> <span class=mi>4</span><span class=nx>D495053</span> <span class=mi>204</span><span class=nx>F7065</span> <span class=mf>6E577274</span> <span class=mi>204</span><span class=nx>C696E</span> <span class=mi>75782</span><span class=nx>D35</span> <span class=mf>2E31352</span><span class=nx>E</span> <span class=mi>31333700</span> <span class=mi>00000000</span>
</span></span><span class=line><span class=cl><span class=o>^^^^^^^^</span> <span class=o>^^^^^^^^</span>
</span></span><span class=line><span class=cl><span class=nx>Magic</span>   <span class=o>|</span> <span class=nx>CRC32</span>  <span class=o>|</span> <span class=nx>Rest</span> <span class=k>of</span> <span class=nx>headers</span> <span class=nx>data</span>
</span></span><span class=line><span class=cl><span class=nb>Number</span>  <span class=o>|</span>        <span class=o>|</span>  
</span></span><span class=line><span class=cl><span class=o>--------|--------|</span>
</span></span><span class=line><span class=cl><span class=mi>4</span> <span class=kr>byte</span>  <span class=o>|</span> <span class=mi>4</span> <span class=kr>byte</span> <span class=o>|</span> <span class=mi>56</span> <span class=kr>byte</span>
</span></span></code></pre></div><p><code>Magic Number = 0x27051956</code></p><p><code>Checksum CRC32 = 0x27D8A9DB</code></p><p>Magic number yang ada tidak match dengan nilai yang di expect oleh uboot sehingga router tidak bisa booting. Untuk melakukan patching magic number dilakukan dengan mengubah magic numbernya, lalu menghitung checksum crc32 pada byte 4-7.</p><p>Modifikasi Header Dengan Magic Number <code>0x26112015</code></p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=mi>26112015</span> <span class=mi>00000000</span> <span class=mi>65537843</span> <span class=mf>00563E27</span> <span class=mi>80000000</span> <span class=mi>80000000</span> <span class=mi>013</span><span class=nx>F7B9D</span> <span class=mi>05050203</span> <span class=mi>4</span><span class=nx>D495053</span> <span class=mi>204</span><span class=nx>F7065</span> <span class=mf>6E577274</span> <span class=mi>204</span><span class=nx>C696E</span> <span class=mi>75782</span><span class=nx>D35</span> <span class=mf>2E31352</span><span class=nx>E</span> <span class=mi>31333700</span> <span class=mi>00000000</span>
</span></span><span class=line><span class=cl><span class=o>^^^^^^^^</span> <span class=o>^^^^^^^^</span>
</span></span><span class=line><span class=cl><span class=nx>New</span>     <span class=o>|</span> <span class=nx>Nulled</span> <span class=o>|</span> <span class=nx>Rest</span> <span class=k>of</span> <span class=nx>headers</span> <span class=nx>data</span>
</span></span><span class=line><span class=cl><span class=nx>Magic</span>   <span class=o>|</span> <span class=nx>CRC32</span>  <span class=o>|</span> 
</span></span><span class=line><span class=cl><span class=nb>Number</span>  <span class=o>|</span>        <span class=o>|</span>
</span></span><span class=line><span class=cl><span class=o>--------|--------|</span>
</span></span><span class=line><span class=cl><span class=mi>4</span> <span class=kr>byte</span>  <span class=o>|</span> <span class=mi>4</span> <span class=kr>byte</span> <span class=o>|</span> <span class=mi>56</span> <span class=kr>byte</span>
</span></span></code></pre></div><p>Karena checksum CRC32 harus dihitung ulang maka pada byte 4-7 harus dinullkan terlebih dahulu. Setelah itu dapat dihitung checksum crc32 menggunakan crc32 calculator (<a href=https://danielwiese.com/crc-calculator/>https://danielwiese.com/crc-calculator/</a>)</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=nx>Checksum</span> <span class=o>=</span> <span class=nx>CRC32</span> <span class=p>(</span><span class=mi>26112015</span> <span class=mi>00000000</span> <span class=mi>65537843</span> <span class=mf>00563E27</span> <span class=mi>80000000</span> <span class=mi>80000000</span> <span class=mi>013</span><span class=nx>F7B9D</span> <span class=mi>05050203</span> <span class=mi>4</span><span class=nx>D495053</span> <span class=mi>204</span><span class=nx>F7065</span> <span class=mf>6E577274</span> <span class=mi>204</span><span class=nx>C696E</span> <span class=mi>75782</span><span class=nx>D35</span> <span class=mf>2E31352</span><span class=nx>E</span> <span class=mi>31333700</span> <span class=mi>00000000</span><span class=p>)</span>
</span></span></code></pre></div><p>Hasil Perhitungan CRC32</p><p><img loading=lazy src=https://radito.vercel.app/02f9897f4677166b3c5ff94db89118b3ff580510fe41c197a480476d40e3e3e8/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f373078636935727078353379696b397730673278322f636663313430653331666135343832303331386530653837323364626234316536356133656461303862333961383361356665386362333937376364333161612e706e673f726c6b65793d6b757677697a63676f64376179706b6e62666f6b647373687826646c3d30267261773d31 alt></p><p>Karena arsitektur MIPS adalah big endian, maka didapatkan nilai CRC32 dengan nilai <code>0x06F6FC0D</code></p><p>Hasil akhirnya maka seperti ini</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-javascript data-lang=javascript><span class=line><span class=cl><span class=mi>26112015</span> <span class=mi>06</span><span class=nx>F6FC0D</span> <span class=mi>65537843</span> <span class=mf>00563E27</span> <span class=mi>80000000</span> <span class=mi>80000000</span> <span class=mi>013</span><span class=nx>F7B9D</span> <span class=mi>05050203</span> <span class=mi>4</span><span class=nx>D495053</span> <span class=mi>204</span><span class=nx>F7065</span> <span class=mf>6E577274</span> <span class=mi>204</span><span class=nx>C696E</span> <span class=mi>75782</span><span class=nx>D35</span> <span class=mf>2E31352</span><span class=nx>E</span> <span class=mi>31333700</span> <span class=mi>00000000</span>
</span></span><span class=line><span class=cl><span class=o>^^^^^^^^</span> <span class=o>^^^^^^^^</span>
</span></span><span class=line><span class=cl><span class=nx>New</span>     <span class=o>|</span> <span class=nx>New</span>    <span class=o>|</span> <span class=nx>Rest</span> <span class=k>of</span> <span class=nx>headers</span> <span class=nx>data</span>
</span></span><span class=line><span class=cl><span class=nx>Magic</span>   <span class=o>|</span> <span class=nx>CRC32</span>  <span class=o>|</span> 
</span></span><span class=line><span class=cl><span class=nb>Number</span>  <span class=o>|</span>        <span class=o>|</span>
</span></span><span class=line><span class=cl><span class=o>--------|--------|</span>
</span></span><span class=line><span class=cl><span class=mi>4</span> <span class=kr>byte</span>  <span class=o>|</span> <span class=mi>4</span> <span class=kr>byte</span> <span class=o>|</span> <span class=mi>56</span> <span class=kr>byte</span>
</span></span></code></pre></div><p>Untuk mengubah file binary secara langsung dapat menggunakan hexeditor untuk windows, atau melalui terminal jika menggunakan linux. Disini saya menggunakan aplikasi HexFiend.</p><p><img loading=lazy src=https://radito.vercel.app/77aa2b6b39554cdf2183e425ef80fa9e58a77c6241256d1321d70a7a560a54e6/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f3274677668393232776363627431776833377438702f653866363663653566313461363761363162613134303335346565666162323163643931653236326234356464383536653335383633313638646361623937362e706e673f726c6b65793d6e66716f613061653273337a7573306c34793272663778756a26646c3d30267261773d31 alt></p><p>Saatnya dicoba untuk firmware barunya, saya coba metode booting menggunakan TFTPd pada uBoot dan hasilnya seperti berikut.</p><p><img loading=lazy src=https://radito.vercel.app/a89f6764f7e42a2897919041c37cf17ffbaf4094d8de5c52b321dc8c3f9b0a42/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f303173376b746a616a6d6b316f687477637175376f2f363438623236343433636666613438366561663937396639326332343362376363653862643430343962356462306338303863306335636262626439366632372e706e673f726c6b65793d6d636637707665716e69796a35663667747865686b6632796326646c3d30267261773d31 alt></p><p>Yess, Akhirnya 😁 </p><p>Firmware openwrt berhasil booting menggunakan bootloader bawaan router (uBoot). Hasilnya ditandai dengan kernel yang berhasil di decompress oleh bootloader dan berhasil menampilkan versi kernelnya.</p><p>Setelah saya post komentar tersebut, ternyata ada kontributor dari openwrt yang menginformasikan bahwa ada fungsi yang dapat digunakan untuk melakukan set magic code secara otomatis, yang sebelumnya saya tidak ketahui hehe. Sehingga tidak perlu ubah manual lagi dan prosesnya akan diotomatisasi pada saat proses kompilasi.</p><p><img loading=lazy src=https://radito.vercel.app/fdfc0ec1a2daa2085c09b6f146381afc931264d314bff07a82c0f771758b0449/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f666e62356271636c65676a6d3964386237737136312f306361393064373436386538356132383862393039303861663438656236323863343936353465663866316263323832306230353166643435303463616261342e706e673f726c6b65793d327178363337626532786b36756476397a36736c656638307826646c3d30267261773d31 alt></p><p>Langsung saja cuss, saya implementasikan di Pull Requestnya untuk direview maintainer kedepannya.</p><p><img loading=lazy src=https://radito.vercel.app/8992e86ca21060247f7baf100e939ab8f0a36b00f932b2a62650a30ac19ae0d6/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f39393039726f7a6e766462333378686878727535392f613534373236653965393434626233396237656434663461333130323133353234616663633838323563303666386132383033343039366538616564393536622e706e673f726c6b65793d696b7762656a396a6b6b6e676875676e646d6b6d663337386126646c3d30267261773d31 alt></p><h1 id=5-wrapping-up>#5 Wrapping Up<a hidden class=anchor aria-hidden=true href=#5-wrapping-up>#</a></h1><p>Setelah beberapa kali perbaikan dan penambahan request dari maintainer repository openwrt diantaranya adalah perbaikan commit message, penambahan fungsi led untuk patch openwrt terbaru, akhirnya pada tanggal 1 April pull request sudah dilakukan merge ke branch main openwrt.</p><p><img loading=lazy src=https://radito.vercel.app/1e27cc35af9dff3c272a701f6be95057eb0c96343586c84e180866f5c27e1787/68747470733a2f2f7777772e64726f70626f782e636f6d2f73636c2f66692f6d73627875697a6166336d39796f683378617975682f643863373263326232653165323038363031393962663465303664306630363765313666333639363932313531343866396666343035353561316334373735312e706e673f726c6b65793d33716377697a3571657731726e3630323064306f696a38323226646c3d30267261773d31 alt></p><p>Setelah dilakukan merge maka otomatis build firmware Bolt BL100 sudah masuk ke release snapshot openwrt, untuk linknya bisa dicek disini.</p><p>Versi Sysupgrade (bolt_bl100-squashfs-sysupgrade.bin)</p><p><a href=https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin>https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin</a></p><p>Versi Initramfs (bolt_bl100-initramfs-kernel.bin)</p><p><a href=https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin>https://downloads.openwrt.org/snapshots/targets/ramips/mt7620/openwrt-ramips-mt7620-bolt_bl100-initramfs-kernel.bin</a></p><p>Oh iya, untuk versi snapshot belum include web interfacenya (luci) dan loginnya masih melalui ssh atau port serialnya. Jadi setelah install dapat dilakukan instalasi luci terlebih dahulu. Untuk saat ini firmware bl100 belum masuk release cycle terbaru, untuk tepatnya belum tau tetapi untuk kedepan jika ada release versi terbaru openwrt maka akan otomatis include di dalamnya.</p><p>Dengan firmware ini, maka tidak usah melakukan instalasi breed bootloader, bisa menggunakan bootloader bawaannya (uboot). Untuk tutorial instalasinya sama seperti di artikel sebelumnya (Install OpenWRT Bolt BL-100/BL-201 Tanpa Alat Tambahan) jika anda mau coba instalasi sendiri. Kalau sebelumnya sudah melakukan install openwrt juga bisa melakukan upgrade versi openwrt melalui halaman upgrade firmware openwrt.</p><p>Sekian artikel kali ini, sebenarnya hanya ingin mendeskripsikan proses penambahan device ke support openwrt dan untuk case bolt bl100 ini terdapat beberapa kendala dan case yang unik yang dapat dieksplor lebih lanjut kedepannya hehe.</p><h1 id=referensi>Referensi<a hidden class=anchor aria-hidden=true href=#referensi>#</a></h1><p><a href=https://github.com/openwrt/openwrt/pull/14836>https://github.com/openwrt/openwrt/pull/14836</a></p><p><a href=https://forum.openwrt.org/t/how-do-i-calculate-the-crc32-of-u-boot-header/76611>https://forum.openwrt.org/t/how-do-i-calculate-the-crc32-of-u-boot-header/76611</a></p></div><footer class=post-footer><ul class=post-tags></ul><nav class=paginav><a class=next href=https://radito.github.io/posts/47d0b04e-76e1-49d5-ad42-c083c8c1eb52/><span class=title>Next »</span><br><span>⛔️ Async Error Handling di TypeScript</span></a></nav></footer><div id=comments class=thin issue-term="Blog Post - 🎉 Bolt BL-100 Sudah Didukung Official OpenWRT" style="background-color:var(--code-bg);border:1px solid var(--border);border-radius:var(--radius);padding:0 1rem"><center id=loading-comments><p style="margin:.5rem 0">Loading Comments ...</p></center></div></article><script>const utterances=document.createElement("script");utterances.src=`https://utteranc.es/client.js`,utterances.setAttribute("repo","radito/radito.github.io"),utterances.setAttribute("issue-term",""),utterances.setAttribute("theme",""),utterances.setAttribute("crossorigin","anonymous"),utterances.async=!0,window.addEventListener("load",function(){document.querySelectorAll("img").forEach((e)=>{const n=new Viewer(e,{movable:!1,navbar:!1,toolbar:!1,focus:!0,transition:!1});e.addEventListener("show",function(){document.getElementsByTagName("html")[0].style.overflow="hidden"}),e.addEventListener("hide",function(){document.getElementsByTagName("html")[0].style.overflow="scroll"})})}),document.getElementById("theme-toggle").addEventListener("click",async()=>{const e=localStorage.getItem("pref-theme"),t=document.querySelector(".utterances-frame");if(e=="light"?(setSyntaxMode("dark"),document.documentElement.classList.remove("c_darkmode")):(setSyntaxMode("light"),document.documentElement.classList.remove("c_darkmode"),document.documentElement.classList.add("c_darkmode")),t){const n={type:"set-theme",theme:e=="light"?"github-dark":"github-light"};t.contentWindow.postMessage(n,"https://utteranc.es")}}),window.onload=async()=>{const e=localStorage.getItem("pref-theme"),t=document.getElementById("comments"),n=t.getAttribute("issue-term"),s=document.getElementById("loading-comments");setSyntaxMode(e),utterances.setAttribute("theme",`github-${e??"light"}`),utterances.setAttribute("issue-term",n),window.addEventListener("message",function(e){new URL(e?.origin).host=="utteranc.es"&&s.remove()}),t.appendChild(utterances)}</script></main><footer class=footer><span>&copy; 2024 <a href=https://radito.github.io/>Radito's Blog</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>